{"version":3,"sources":["toast.js"],"names":["Toast","t","message","Error","this","options","type","toastContainerEl","document","querySelector","toastEl","_init","prototype","_createElements","Promise","e","o","createElement","classList","add","setAttribute","appendChild","body","setTimeout","_addEventListeners","addEventListener","_close","customButtons","Array","slice","call","querySelectorAll","map","onClick","innerHTML","remove","focusedElBeforeOpen","focus","_open","text","join","activeElement","resolve","then","getAttribute"],"mappings":"AAAA,aAAa,SAASA,MAAMC,GAAG,IAAIA,EAAEC,QAAQ,MAAM,IAAIC,MAAM,mDAAmDC,KAAKC,QAAQJ,EAAEG,KAAKC,QAAQC,KAAKL,EAAEK,MAAM,UAAUF,KAAKG,iBAAiBC,SAASC,cAAc,sBAAsBL,KAAKM,QAAQF,SAASC,cAAc,YAAYL,KAAKO,QAAQX,MAAMY,UAAUC,gBAAgB,WAAW,IAAIZ,EAAEG,KAAK,OAAO,IAAIU,SAAQ,SAASC,EAAEC,GAAGf,EAAEM,iBAAiBC,SAASS,cAAc,OAAOhB,EAAEM,iBAAiBW,UAAUC,IAAI,qBAAqBlB,EAAEM,iBAAiBa,aAAa,OAAO,SAASnB,EAAEM,iBAAiBa,aAAa,eAAc,GAAInB,EAAES,QAAQF,SAASS,cAAc,OAAOhB,EAAES,QAAQQ,UAAUC,IAAI,WAAWlB,EAAEM,iBAAiBc,YAAYpB,EAAES,SAASF,SAASc,KAAKD,YAAYpB,EAAEM,kBAAkBgB,YAAW,WAAW,OAAOR,MAAK,SAAQf,MAAMY,UAAUY,mBAAmB,WAAW,IAAIvB,EAAEG,MAAQI,SAASC,cAAc,uBAAuBgB,iBAAiB,SAAQ,WAAWxB,EAAEyB,YAAWtB,KAAKC,QAAQsB,gBAAqBC,MAAMhB,UAAUiB,MAAMC,KAAKtB,SAASuB,iBAAiB,yBAA2BC,KAAI,SAASjB,EAAEC,GAAGD,EAAEU,iBAAiB,SAAQ,SAASV,GAAG,OAAOd,EAAEI,QAAQsB,cAAcX,GAAGiB,QAAQlB,UAASf,MAAMY,UAAUc,OAAO,WAAW,IAAIzB,EAAEG,KAAK,OAAO,IAAIU,SAAQ,SAASC,EAAEC,GAAGf,EAAEM,iBAAiBa,aAAa,eAAc,GAAIG,YAAW,WAAWtB,EAAES,QAAQwB,UAAU,GAAGjC,EAAES,QAAQQ,UAAUiB,OAAO,UAAU,UAAU,UAAU,UAAUlC,EAAEmC,qBAAqBnC,EAAEmC,oBAAoBC,QAAQtB,MAAK,SAAQf,MAAMY,UAAU0B,MAAM,WAAWlC,KAAKM,QAAQQ,UAAUC,IAAIf,KAAKC,QAAQC,MAAMF,KAAKG,iBAAiBa,aAAa,eAAc,GAAI,IAAInB,EAAE,GAAGG,KAAKC,QAAQsB,gBAA2J1B,GAA3IA,EAAEG,KAAKC,QAAQsB,cAAcK,KAAI,SAAS/B,EAAEc,GAAG,MAAM,iEAAiEd,EAAEsC,KAAK,gBAAkBC,KAAK,KAAKpC,KAAKM,QAAQwB,UAAU,gBAAgB9B,KAAKC,QAAQH,QAAQ,sGAAsGD,EAAE,SAASG,KAAKgC,oBAAoB5B,SAASiC,cAAcjC,SAASC,cAAc,uBAAuB4B,SAASrC,MAAMY,UAAUD,MAAM,WAAW,IAAIV,EAAEG,KAAKU,QAAQ4B,UAAUC,MAAK,WAAW,OAAO1C,EAAEM,iBAAiBO,QAAQ4B,UAAUzC,EAAEY,qBAAoB8B,MAAK,WAAW,MAAM,SAAS1C,EAAEM,iBAAiBqC,aAAa,eAAe3C,EAAEyB,SAASZ,QAAQ4B,aAAYC,MAAK,WAAW1C,EAAEqC,QAAQrC,EAAEuB","file":"toast.js","sourcesContent":["\"use strict\";function Toast(t){if(!t.message)throw new Error(\"Toast.js - You need to set a message to display\");this.options=t,this.options.type=t.type||\"default\",this.toastContainerEl=document.querySelector(\".toastjs-container\"),this.toastEl=document.querySelector(\".toastjs\"),this._init()}Toast.prototype._createElements=function(){var t=this;return new Promise(function(e,o){t.toastContainerEl=document.createElement(\"div\"),t.toastContainerEl.classList.add(\"toastjs-container\"),t.toastContainerEl.setAttribute(\"role\",\"alert\"),t.toastContainerEl.setAttribute(\"aria-hidden\",!0),t.toastEl=document.createElement(\"div\"),t.toastEl.classList.add(\"toastjs\"),t.toastContainerEl.appendChild(t.toastEl),document.body.appendChild(t.toastContainerEl),setTimeout(function(){return e()},500)})},Toast.prototype._addEventListeners=function(){var t=this;if(document.querySelector(\".toastjs-btn--close\").addEventListener(\"click\",function(){t._close()}),this.options.customButtons){var e=Array.prototype.slice.call(document.querySelectorAll(\".toastjs-btn--custom\"));e.map(function(e,o){e.addEventListener(\"click\",function(e){return t.options.customButtons[o].onClick(e)})})}},Toast.prototype._close=function(){var t=this;return new Promise(function(e,o){t.toastContainerEl.setAttribute(\"aria-hidden\",!0),setTimeout(function(){t.toastEl.innerHTML=\"\",t.toastEl.classList.remove(\"default\",\"success\",\"warning\",\"danger\"),t.focusedElBeforeOpen&&t.focusedElBeforeOpen.focus(),e()},1e3)})},Toast.prototype._open=function(){this.toastEl.classList.add(this.options.type),this.toastContainerEl.setAttribute(\"aria-hidden\",!1);var t=\"\";this.options.customButtons&&(t=this.options.customButtons.map(function(t,e){return'<button type=\"button\" class=\"toastjs-btn toastjs-btn--custom\">'+t.text+\"</button>\"}),t=t.join(\"\")),this.toastEl.innerHTML=\"\\n        <p>\"+this.options.message+'</p>\\n        <button type=\"button\" class=\"toastjs-btn toastjs-btn--close\">Close</button>\\n        '+t+\"\\n    \",this.focusedElBeforeOpen=document.activeElement,document.querySelector(\".toastjs-btn--close\").focus()},Toast.prototype._init=function(){var t=this;Promise.resolve().then(function(){return t.toastContainerEl?Promise.resolve():t._createElements()}).then(function(){return\"false\"==t.toastContainerEl.getAttribute(\"aria-hidden\")?t._close():Promise.resolve()}).then(function(){t._open(),t._addEventListeners()})};\n"]}